{"version":3,"sources":["webpack://large-screen/./src/views/login/login.vue?9b59","webpack://large-screen/./src/views/login/login.vue?628e","webpack://large-screen/src/views/login/login.vue","webpack://large-screen/./src/views/login/login.vue?b0ba","webpack://large-screen/./src/views/login/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","name","form","directives","rawName","value","rules","required","message","expression","slot","on","handleSubmit","$event","renderCaptcha","staticRenderFns","data","window","custom","systemName","toUpperCase","$form","createForm","mounted","methods","self","validateFields","err","$store","dispatch","then","$router","push","captcha","width","height","show","i","txt","toLowerCase","context","font","translate","x","y","rotate","deg","fillStyle","r","g","b","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","component"],"mappings":"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","file":"js/login.e1686386.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=5d59fe0d&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"title\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require('@/assets/logo.png')}}),_c('h1',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.name))])]),_c('div',{staticClass:\"form\"},[_c('a-form',{attrs:{\"form\":_vm.form,\"autocomplete\":\"off\"}},[_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'username',\n              { rules: [{ required: true, message: '请输入用户名' }] } ]),expression:\"[\\n              'username',\\n              { rules: [{ required: true, message: '请输入用户名' }] },\\n            ]\"}],attrs:{\"size\":\"large\",\"placeholder\":\"用户名\"}},[_c('a-icon',{staticClass:\"form-prefix\",attrs:{\"slot\":\"prefix\",\"type\":\"contacts\",\"theme\":\"filled\"},slot:\"prefix\"})],1)],1),_c('a-form-item',[_c('a-input-password',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'password',\n              { rules: [{ required: true, message: '请输入密码' }] } ]),expression:\"[\\n              'password',\\n              { rules: [{ required: true, message: '请输入密码' }] },\\n            ]\"}],attrs:{\"size\":\"large\",\"placeholder\":\"密码\"}},[_c('a-icon',{staticClass:\"form-prefix\",attrs:{\"slot\":\"prefix\",\"type\":\"lock\",\"theme\":\"filled\"},slot:\"prefix\"})],1)],1),_c('a-form-item',[_c('a-row',[_c('a-col',{attrs:{\"span\":15}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                  'captcha',\n                  { rules: [{ required: true, message: '请输入验证码' }] } ]),expression:\"[\\n                  'captcha',\\n                  { rules: [{ required: true, message: '请输入验证码' }] },\\n                ]\"}],attrs:{\"size\":\"large\",\"type\":\"captcha\",\"placeholder\":\"验证码\"},on:{\"pressEnter\":_vm.handleSubmit}},[_c('a-icon',{staticClass:\"form-prefix\",attrs:{\"slot\":\"prefix\",\"type\":\"safety-certificate\",\"theme\":\"filled\"},slot:\"prefix\"})],1)],1),_c('a-col',{attrs:{\"span\":8,\"offset\":1}},[_c('div',{staticClass:\"captcha\",on:{\"click\":function($event){return _vm.renderCaptcha()}}},[_c('canvas',{attrs:{\"id\":\"captcha-canvas\"}})])])],1)],1)],1),_c('a-button',{staticClass:\"login-button\",attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"登录\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"login\">\n      <div class=\"title\">\n        <img class=\"logo\" :src=\"require('@/assets/logo.png')\" />\n        <h1 class=\"name\">{{name}}</h1>\n      </div>\n      <div class=\"form\">\n        <a-form :form=\"form\" autocomplete=\"off\">\n          <a-form-item>\n            <a-input\n              v-decorator=\"[\n                'username',\n                { rules: [{ required: true, message: '请输入用户名' }] },\n              ]\"\n              size=\"large\"\n              placeholder=\"用户名\"\n            >\n              <a-icon slot=\"prefix\" type=\"contacts\" class=\"form-prefix\" theme=\"filled\"/>\n            </a-input>\n          </a-form-item>\n          <a-form-item>\n            <a-input-password\n              v-decorator=\"[\n                'password',\n                { rules: [{ required: true, message: '请输入密码' }] },\n              ]\"\n              size=\"large\"\n              placeholder=\"密码\"\n            >\n              <a-icon slot=\"prefix\" type=\"lock\" class=\"form-prefix\" theme=\"filled\"/>\n            </a-input-password>\n          </a-form-item>\n          <a-form-item>\n            <a-row>\n              <a-col :span=\"15\">\n                <a-input\n                  v-decorator=\"[\n                    'captcha',\n                    { rules: [{ required: true, message: '请输入验证码' }] },\n                  ]\"\n                  size=\"large\"\n                  type=\"captcha\"\n                  placeholder=\"验证码\"\n                  @pressEnter=\"handleSubmit\"\n                >\n                  <a-icon slot=\"prefix\" type=\"safety-certificate\" class=\"form-prefix\" theme=\"filled\"/>\n                </a-input>\n              </a-col>\n              <a-col :span=\"8\" :offset=\"1\">\n                <!-- 验证码 -->\n                <div class=\"captcha\" @click=\"renderCaptcha()\">\n                  <canvas id=\"captcha-canvas\"></canvas>\n                </div>\n              </a-col>\n            </a-row>\n          </a-form-item>\n        </a-form>\n        <a-button class=\"login-button\" type=\"primary\" size=\"large\" @click=\"handleSubmit\">登录</a-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery'\nimport Vue from 'vue'\n\nexport default {\n  data () {\n    return {\n      // 系统名称\n      name: window.custom.systemName.toUpperCase(),\n      form: this.$form.createForm(this)\n    }\n  },\n  mounted () {\n    this.renderCaptcha()\n  },\n  methods: {\n    handleSubmit () {\n      let self = this\n      self.form.validateFields((err, values) => {\n        if (err) return\n        self.$store.dispatch('user/Navigation').then(() => {\n          Vue.ss.set('loggedIn', true)\n          self.$router.push('/')\n        })\n      })\n    },\n    // 渲染验证码\n    renderCaptcha () {\n      // 获取dom元素\n      let captcha = document.getElementById('captcha-canvas')\n      let show = []\n      let width = $(captcha).width()\n      let height = $(captcha).height()\n      let context = captcha.getContext('2d')\n      captcha.width = width\n      captcha.height = height\n      let codes = ['A', 'B', 'C', 'E', 'F', 'G', 'H', 'J', 'K', 'M', 'N', 'P', 'Q', 'R', 'S', 'T', 'W', 'X', 'Y', 'Z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0']\n      let length = codes.length\n      // 渲染文字内容\n      for (let i = 0; i < 4; i++) {\n        // 获取到随机的索引值\n        let index = Math.floor(Math.random() * length)\n        // 产生0~30之间的随机弧度\n        let deg = (Math.random() * 30 * Math.PI) / 180\n        // 得到随机内容\n        let txt = codes[index]\n        show[i] = txt.toLowerCase()\n        // 文字在canvas上的x坐标\n        let x = 10 + i * 20\n        // 文字在canvas上的y坐标\n        let y = 20 + Math.random() * 8\n        context.font = 'bold 30px arial'\n        context.translate(x, y)\n        context.rotate(deg)\n        context.fillStyle = (() => {\n          let r = Math.floor(Math.random() * 256)\n          let g = Math.floor(Math.random() * 256)\n          let b = Math.floor(Math.random() * 256)\n          return 'rgb(' + r + ',' + g + ',' + b + ')'\n        })()\n        context.fillText(txt, 0, 0)\n        context.rotate(-deg)\n        context.translate(-x, -y)\n      }\n      // 验证码上显示线条\n      for (let i = 0; i < 5; i++) {\n        context.strokeStyle = (() => {\n          let r = Math.floor(Math.random() * 256)\n          let g = Math.floor(Math.random() * 256)\n          let b = Math.floor(Math.random() * 256)\n          return 'rgb(' + r + ',' + g + ',' + b + ')'\n        })()\n        context.beginPath()\n        context.moveTo(\n          Math.random() * width,\n          Math.random() * height\n        )\n        context.lineTo(\n          Math.random() * width,\n          Math.random() * height\n        )\n        context.stroke()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .container{\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: linear-gradient(to right, #243B55, #141E30);\n  }\n  .login{\n    width: 380px;\n    padding-bottom: 150px;\n    .title{\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-bottom: 12px;\n      height: 100px;\n      .logo{\n        height: 50px;\n        width: 50px;\n      }\n      .name{\n        color: #fff;\n      }\n    }\n    .form{\n      .login-button{\n        width: 100%;\n      }\n      ::v-deep.ant-input-prefix{\n        margin-right: 16px;\n      }\n      ::v-deep.ant-input-affix-wrapper .ant-input:not(:first-child){\n        padding-left: 40px;\n      }\n      .form-prefix{\n        font-size: 20px;\n        color: rgba(0,0,0,.25);\n      }\n      .captcha{\n        height: 40px;\n        width: 100%;\n        background: #fff;\n        opacity: 0.9;\n        border-radius: 4px;\n        #captcha-canvas{\n          border-radius: 4px;\n          height: 100%;\n          width: 100%;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=5d59fe0d&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=5d59fe0d&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d59fe0d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}